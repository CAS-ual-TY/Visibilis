package de.cas_ual_ty.mundusmagicus.magic;

public abstract class Node
{
	//Did this node already calculate? If yes the result is already saved and can just be retrieved
	protected boolean calculated = false;
	
	/**
	 * Did this node already calculate? If yes the result is already saved and can just be retrieved
	 * @return true if already calculated, false if calculation still needs to be done
	 */
	public boolean isCalculated()
	{
		return this.calculated;
	}
	
	public boolean calculate()
	{
		NodeField field0, field1;
		
		int i, j;
		
		for(i = 0; i < this.getInputAmt(); ++i)
		{
			field0 = this.getInput(i);
			
			for(j = 0; j < field0.getConnections().size(); ++j)
			{
				field1 = field0.getConnections().get(j);
				
				if(field1.node.isCalculated())
				{
					field1.node.calculate();
				}
			}
		}
	}
	
	public abstract int getOutputAmt();
	public abstract int getInputAmt();
	public abstract NodeField getOutput(int index);
	public abstract NodeField getInput(int index);
}
